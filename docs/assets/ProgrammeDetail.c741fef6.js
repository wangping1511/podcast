var I=Object.defineProperty,P=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(a,s,t)=>s in a?I(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,v=(a,s)=>{for(var t in s||(s={}))F.call(s,t)&&g(a,t,s[t]);if(h)for(var t of h(s))R.call(s,t)&&g(a,t,s[t]);return a},y=(a,s)=>P(a,D(s));import{d as V,f as z,u as E,e as M,_ as T,a as W}from"./index.158cb5a5.js";import{_ as q,a as A}from"./angle-left-b.dd1f91be.js";import{d as k,A as J,k as w,l as O,B as G,u as H,o as r,c as u,a as e,J as _,e as o,b as K,t as n,f as Q,q as p,x as U,F as X,I as Y,s as Z}from"./vendor.02f6b6f3.js";import{o as ee}from"./color-thief.9d2244d8.js";const te={class:"pt-15"},se={class:"h-full flex justify-between items-center mx-3"},oe={key:0,class:"dark:text-white"},ae=["src"],le={class:"text-sm font-medium mt-2"},ie={class:"text-xs text-secondary mt-2"},ne={class:"px-5 mt-3 text-xs overflow-hidden",style:{display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"}},ce={class:"px-5 pb-5 py-3 dark:text-white"},re=e("p",{class:"text-xl font-medium"},"\u5355\u96C6",-1),de=["onClick"],ue={class:"text-xs text-secondary"},_e={class:"text-sm"},me={class:"text-xs text-secondary overflow-hidden",style:{display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"}},pe={class:"flex items-center mt-2"},xe=["onClick"],fe={class:"ml-2 text-xs text-primary"},be=k({name:"ProgrammeDetail"}),we=k(y(v({},be),{setup(a){const s=J(),t=V(Number(s.params.id)),C=z(Number(s.params.id));console.log("ProgrammeDetail.vue Create...");const c=w([]),d=w();O(()=>{const l=new ee;d.value&&(d.value.complete?c.value=l.getColor(d.value):d.value.addEventListener("load",function(){c.value=l.getColor(d.value)}))});const x=G(()=>c?c.value[0]*.299+c.value[1]*.587+c.value[2]*.114>=192?0:1:0),{y:m}=H(),f=E(),B=l=>{M.emit("play",l)};return(l,b)=>{const j=q,L=A,N=T,S=W;return r(),u("div",null,[e("div",{class:"pb-5",style:U("background-color: rgb("+c.value.join(",")+")")},[e("div",te,[e("div",{class:_(["w-full fixed h-12 top-0",o(m)>200?"dark:bg-[#141414] bg-white shadow":""])},[e("div",se,[e("div",{class:"bg-black bg-opacity-20 h-7 w-7 flex items-center rounded-full",onClick:b[0]||(b[0]=i=>l.$router.back())},[K(j,{class:"text-xl text-white"})]),o(m)>200?(r(),u("p",oe,n(o(t).name),1)):Q("",!0),e("div",null,[e("div",{class:_(["bg-black bg-opacity-20 h-7 w-7 flex items-center justify-center rounded-full",o(m)>200?"text-primary":"text-white"])},[(r(),p(L,{key:1,class:"text-xl"}))],2)])])],2),e("div",{class:_(["flex flex-col items-center",o(x)===1?"text-white":""])},[e("img",{ref_key:"imgRef",ref:d,class:"bg-primary h-45 w-45 rounded-md shadow-2xl",src:o(t).coverImg,crossorigin:"anonymous"},null,8,ae),e("p",le,n(o(t).name),1),e("p",ie,n(o(t).author),1),e("button",{class:_(["w-60 h-10 rounded-lg mt-2 text-sm font-medium",o(x)===1?"bg-white text-black":"bg-basicBlack text-white"])},"\u6700\u65B0\u5355\u96C6",2),e("p",ne,n(o(t).description),1)],2)])],4),e("div",ce,[re,(r(!0),u(X,null,Y(o(C),i=>(r(),u("div",{class:"mt-4",onClick:$=>l.$router.push("/single-episode-detail/"+i.id)},[e("p",ue,n(i.createTime),1),e("p",_e,n(i.title),1),e("p",me,n(i.description),1),e("div",pe,[e("div",{class:"h-6 w-6 rounded-full bg-basicWhite dark:bg-basicBlack flex justify-center items-center",onClick:Z($=>B(i.id),["stop"])},[o(f).epId===i.id&&o(f).play?(r(),p(N,{key:0,class:"text-primary text-sm"})):(r(),p(S,{key:1,class:"text-primary text-sm"}))],8,xe),e("p",fe,n(i.duration)+" \u5206\u949F",1)])],8,de))),256))])])}}}));export{we as default};
